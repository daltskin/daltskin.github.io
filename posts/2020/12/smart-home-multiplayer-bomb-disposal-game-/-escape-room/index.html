<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta name="google-site-verification" content="K2Exu14Kv45NN2n3fF_bBjCBgdjHvnl3zzMQ1Uz8tPk" />
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="Jamie D ">
<meta name="description"
    content="About 18 months ago I shared some insight into some home automation I&amp;rsquo;d added that turned the whole house into a gaming zone. This has been pretty useful during the recent covid lockdown and provided much entertainment for the family. This post is to explain how it works.
Game objective Find and defuse the bomb without getting spotted. A baddie has hidden a bomb somewhere around the house, the bomb disposal team have been sent in to locate and defuse it - without activating any of the movement or contact sensors around the house." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://jamied.me/posts/2020/12/smart-home-multiplayer-bomb-disposal-game-/-escape-room/" />


<title>
    
    Smart Home Multiplayer Bomb Disposal Game / Escape Room :: Hello_world  ‚Äî Jamie D`
    
</title>







<link rel="stylesheet" href="https://jamied.me/main.min.2159ad286c1f8936ae0d5080ef2b39f6292ad8c1e6bcf09b3eee9f351ef0973e.css">



<link rel="apple-touch-icon" sizes="180x180" href="https://jamied.me/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jamied.me/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jamied.me/favicon-16x16.png">
<link rel="manifest" href="https://jamied.me/site.webmanifest">
<link rel="mask-icon" href="https://jamied.me/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="https://jamied.me/favicon.ico">
<meta name="theme-color" content="#252627"><meta itemprop="name" content="Smart Home Multiplayer Bomb Disposal Game / Escape Room">
<meta itemprop="description" content="About 18 months ago I shared some insight into some home automation I&rsquo;d added that turned the whole house into a gaming zone. This has been pretty useful during the recent covid lockdown and provided much entertainment for the family. This post is to explain how it works.
Game objective Find and defuse the bomb without getting spotted. A baddie has hidden a bomb somewhere around the house, the bomb disposal team have been sent in to locate and defuse it - without activating any of the movement or contact sensors around the house.">


<meta itemprop="datePublished" content="2020-12-23T20:04:40&#43;00:00" />
<meta itemprop="dateModified" content="2020-12-23T20:04:40&#43;00:00" />
<meta itemprop="wordCount" content="608">



<meta itemprop="keywords" content="smarthome,smart home,home automation,smartthings,multiplayer game,covid,covid19,corona,lockdown,spotify,sensor,escape room," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://jamied.me/post-cover.png"/>

<meta name="twitter:title" content="Smart Home Multiplayer Bomb Disposal Game / Escape Room"/>
<meta name="twitter:description" content="About 18 months ago I shared some insight into some home automation I&rsquo;d added that turned the whole house into a gaming zone. This has been pretty useful during the recent covid lockdown and provided much entertainment for the family. This post is to explain how it works.
Game objective Find and defuse the bomb without getting spotted. A baddie has hidden a bomb somewhere around the house, the bomb disposal team have been sent in to locate and defuse it - without activating any of the movement or contact sensors around the house."/>




<meta property="article:published_time" content="2020-12-23 20:04:40 &#43;0000 UTC" />







    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://jamied.me/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">C:\Users\daltskin</span>
            <span class="logo__cursor" style=""></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://jamied.me/about/">About</a></li><li><a href="https://jamied.me/posts/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>3 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title"><a href="https://jamied.me/posts/2020/12/smart-home-multiplayer-bomb-disposal-game-/-escape-room/">Smart Home Multiplayer Bomb Disposal Game / Escape Room</a></h1>

            

            <div class="post-content">
                

<p><img src="https://jamied.me/img/tnt.jpg" width="400"></p>

<p>About 18 months ago I shared some insight into some <a href="https://jamied.me/posts/2019/05/home-automation/" target="_blank">home automation</a> I&rsquo;d added that turned the whole house into a gaming zone.  This has been pretty useful during the recent covid lockdown and provided much entertainment for the family.  This post is to explain how it works.</p>

<h2 id="game-objective">Game objective</h2>

<p>Find and defuse the bomb without getting spotted.  A baddie has hidden a bomb somewhere around the house, the bomb disposal team have been sent in to locate and defuse it - without activating any of the movement or contact sensors around the house.</p>

<p>Each room has a sensor - so you need to be a ninja to get in and out of a room without activating any.  Check each room until you find the bomb, use the special disarm key to disable the bomb and end the game.  If you trigger a sensor, you will be alerted by an alarm and flashing lights - you&rsquo;ve failed your objective.</p>

<h2 id="how-it-works">How it works</h2>

<h3 id="motion-sensors">Motion sensors</h3>

<p>The game is designed on the SmartThings platform, using multiple motion sensors that are registered as devices for each room. Our house had an existing hard-wired alarm installation, adding a Konnected Alarm Interface Panel, exposes each PIR onto the SmartThings platform as a motion sensor device.</p>

<p><img src="https://jamied.me/img/konnected.png"></p>

<p>Existing hard-wired PIRs become a SmartThings motion sensor.  Allowing you to create automations based off any detected movement.
<img src="https://jamied.me/img/sensors.png"></p>

<h3 id="smartthings-groovy-app">SmartThings Groovy app</h3>

<p>I then wrote a custom SmartThings app which detects any motion or contact sensor changes.  If movement is detected or a contact sensor state changes, the app will simultaneously flash multiple Philips Hue bulbs around the home to a pre-set colour.  In addition, it invokes an Azure Function to playback a given audio track (full source available <a href="https://github.com/daltskin/ST-HomeAutomation" target="_blank">here</a>).  The app is fully customisable so you can easily change the in-game settings - such as which sensors to use, audio track, volume, light colours etc.</p>

<p><img src="https://jamied.me/img/groovy.jpg" width="400"></p>

<h3 id="playing-music">Playing music</h3>

<p>An important part of the game ambience and to provide feedback is playing music whenever a motion sensor has been triggered.  This is controlled using an Azure Function to call the  Spotify API (full source available <a href="https://github.com/daltskin/ST-HomeAutomation" target="_blank">here</a>) to play a given track from a selected playlist.  The function allows you to seek to a specific position in a track, and to set playback duration.  Allowing you to playback a sample from any given song.  Currently I&rsquo;m using Run by AWOLNATION, recently popular on TikTok.  Another nice feature is the ability to select which Spotify connected audio device to use, allowing me to use the otherwise defunct Harmon Kardon Invoke üòÄ.</p>

<h3 id="arming-disarming-the-bomb">Arming/Disarming the bomb</h3>

<p>The SmartThings platform allows you to create different &ldquo;modes&rdquo; for your house automation such as Home/Away/Night etc.  Most normal people add additional modes for Movies etc, I geeked out on this and created a <code>Game</code> mode.  Which allows my groovy app to only trigger if the relevant mode is active.  I&rsquo;ve also created a SmartThings scene called <code>Game mode</code>, so to start the game, I can simply ask Alexa - &ldquo;Turn on Game mode&rdquo;.  Which will immediately activate all of the motion sensors around the house ready for action.</p>

<p>Creating the &ldquo;bomb&rdquo; out of an old cardboard box, a repurposed light gun and a SmartThings multi-purpose sensor.</p>

<p><img src="https://jamied.me/img/parts.png"></p>

<p>The multi-purpose sensor allows the contact sensor&rsquo;s magnetic piece to be removed, and thus becomes the &ldquo;denotation disarm key&rdquo;.  The rest of the sensor is embedded in the bomb.</p>

<p><img src="https://jamied.me/img/bomb.png"></p>

<p>When the magnet is added, it disarms the bomb (closes the connection) by changing the game mode back to the default (home) - using this simple SmartThings Automation:</p>

<p><img src="https://jamied.me/img/disarm.jpg" width="400"></p>

<p>To start over, hide the bomb, then put the house back into <code>Game</code> mode.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://jamied.me/tags/smarthome">smarthome</a></span><span class="tag"><a href="https://jamied.me/tags/smart-home">smart home</a></span><span class="tag"><a href="https://jamied.me/tags/home-automation">home automation</a></span><span class="tag"><a href="https://jamied.me/tags/smartthings">smartthings</a></span><span class="tag"><a href="https://jamied.me/tags/multiplayer-game">multiplayer game</a></span><span class="tag"><a href="https://jamied.me/tags/covid">covid</a></span><span class="tag"><a href="https://jamied.me/tags/covid19">covid19</a></span><span class="tag"><a href="https://jamied.me/tags/corona">corona</a></span><span class="tag"><a href="https://jamied.me/tags/lockdown">lockdown</a></span><span class="tag"><a href="https://jamied.me/tags/spotify">spotify</a></span><span class="tag"><a href="https://jamied.me/tags/sensor">sensor</a></span><span class="tag"><a href="https://jamied.me/tags/escape-room">escape room</a></span>
                </p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>608 Words</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-12-23 20:04 &#43;0000</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h"></span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="https://jamied.me/posts/2021/01/google-nest-smartthings-integration/">
                                <span class="button__icon">‚Üê</span>
                                <span class="button__text">Google Nest SmartThings Integration</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="https://jamied.me/posts/2020/12/troubleshooting-arm-deploymentscripts/">
                                <span class="button__text">Troubleshooting ARM DeploymentScripts</span>
                                <span class="button__icon">‚Üí</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
                <span><a href="https://jamied.me/">Jamie D</a></span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span> <a href="https://jamied.me/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Hugo theme by <a href="https://github.com/rhazdon">rhazdon</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="https://jamied.me/bundle.min.4c3fb12a087ceed4a52cb5d57068a9795c7069617a01ca70f788052ad66e1791779e6c72686e1dc0ca13dc03b0203204b6566bb0dd1ee80de2b7ff4d8fe53db2.js" integrity="sha512-TD&#43;xKgh87tSlLLXVcGipeVxwaWF6Acpw94gFKtZuF5F3nmxyaG4dwMoT3AOwIDIEtlZrsN0e6A3it/9Nj&#43;U9sg=="></script>
    <script type="text/javascript">
        var sdkInstance="appInsightsSDK";window[sdkInstance]="appInsights";var aiName=window[sdkInstance],aisdk=window[aiName]||function(e){function n(e){t[e]=function(){var n=arguments;t.queue.push(function(){t[e].apply(t,n)})}}var t={config:e};t.initialize=!0;var i=document,a=window;setTimeout(function(){var n=i.createElement("script");n.src=e.url||"https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js",i.getElementsByTagName("script")[0].parentNode.appendChild(n)});try{t.cookie=i.cookie}catch(e){}t.queue=[],t.version=2;for(var r=["Event","PageView","Exception","Trace","DependencyData","Metric","PageViewPerformance"];r.length;)n("track"+r.pop());n("startTrackPage"),n("stopTrackPage");var s="Track"+r[0];if(n("start"+s),n("stop"+s),n("setAuthenticatedUserContext"),n("clearAuthenticatedUserContext"),n("flush"),!(!0===e.disableExceptionTracking||e.extensionConfig&&e.extensionConfig.ApplicationInsightsAnalytics&&!0===e.extensionConfig.ApplicationInsightsAnalytics.disableExceptionTracking)){n("_"+(r="onerror"));var o=a[r];a[r]=function(e,n,i,a,s){var c=o&&o(e,n,i,a,s);return!0!==c&&t["_"+r]({message:e,url:n,lineNumber:i,columnNumber:a,error:s}),c},e.autoExceptionInstrumented=!0}return t}(
        {
        instrumentationKey:"490dec9c-4d14-4f46-9054-0d119b76a14d"
        }
        );window[aiName]=aisdk,aisdk.queue&&0===aisdk.queue.length&&aisdk.trackPageView({});
    </script>



    </body>
</html>

<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Hello_world</title>
        <link>https://jamied.me/posts/</link>
        <description>Recent content in Posts on Hello_world</description>
        <generator>Hugo -- gohugo.io</generator>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Thu, 21 Nov 2019 21:00:00 +0000</lastBuildDate>
        <atom:link href="https://jamied.me/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>WebWindow</title>
            <link>https://jamied.me/posts/2019/11/webwindow/</link>
            <pubDate>Thu, 21 Nov 2019 21:00:00 +0000</pubDate>
            
            <guid>https://jamied.me/posts/2019/11/webwindow/</guid>
            <description>This week Steve Sanderson blogged again, this time introducing his latest wizardry WebWindow - a lightweight cross-platform webview library for .NET Core.
He also shared the full source code and provided some great examples on what&amp;rsquo;s possible:
I&amp;rsquo;ve spent the last couple of evenings experimenting with this a bit. Whilst it&amp;rsquo;s &amp;lsquo;super-pre-alpha quality&amp;rsquo;, it&amp;rsquo;s pretty damn awesome.
Docker Using this in conjunction with Docker.DotNet was my first experiment. Rather than bring web content into the project, why not let Docker do the local hosting.</description>
            <content type="html"><![CDATA[

<p>This week <a href="https://twitter.com/StevenSanderson" target="_blank">Steve Sanderson</a> blogged again, this time introducing his latest wizardry <a href="https://blog.stevensanderson.com/2019/11/18/2019-11-18-webwindow-a-cross-platform-webview-for-dotnet-core/" target="_blank">WebWindow</a> - a lightweight cross-platform webview library for .NET Core.</p>

<p>He also shared the full <a href="https://github.com/SteveSandersonMS/WebWindow" target="_blank">source code</a> and provided some great <a href="https://github.com/SteveSandersonMS/WebWindow/tree/master/samples" target="_blank">examples</a> on what&rsquo;s possible:</p>

<p>I&rsquo;ve spent the last couple of evenings experimenting with this a bit.  Whilst it&rsquo;s &lsquo;super-pre-alpha quality&rsquo;, it&rsquo;s pretty damn awesome.</p>

<h2 id="docker">Docker</h2>

<p>Using this in conjunction with <a href="https://github.com/microsoft/docker.dotnet" target="_blank">Docker.DotNet</a> was my first experiment.  Rather than bring web content into the project, why not let Docker do the local hosting.  So assuming you&rsquo;ve got Docker already setup on your developer machine, this is something you can play with.</p>

<p>I tried this first with the <a href="https://hub.docker.com/r/pengbai/docker-supermario/" target="_blank">docker-supermario</a> container by <a href="https://github.com/PengBAI" target="_blank">Peng BAI</a>, of Infinite Mario in HTML5 Javascript - the results were very impressive.</p>

<p><video src="/video/SuperMario.mp4" controls width=800></p>

<h2 id="hosted-html">Hosted HTML</h2>

<p>This time I experimented with the cross-platform aspect to this.  Using a hosted website, in this case <a href="https://mrdoob.com/lab/javascript/effects/solitaire/" target="_blank">Solitaire</a> by <a href="https://twitter.com/mrdoob" target="_blank">Mr Doob</a>.</p>

<p>I compiled both a standalone runtime for Windows and Linux using:</p>

<h3 id="windows">Windows</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dotnet publish -o publish -c Debug -r win10-x64 /p<span style="color:#960050;background-color:#1e0010">:</span>PublishSingleFile=true /p<span style="color:#960050;background-color:#1e0010">:</span>PublishTrimmed=true</code></pre></div>
<h3 id="linux">Linux</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">dotnet publish -o publish -c Debug -r linux-x64 /p:PublishSingleFile<span style="color:#f92672">=</span>true /p:PublishTrimmed<span style="color:#f92672">=</span>true</code></pre></div>
<p>The runtime sizes were 27,450KB and 36,744KB respectively.</p>

<p>Then it was time to test them both.  Using <a href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701" target="_blank">Windows Terminal</a> and WSL (Ubuntu) here&rsquo;s what happened:</p>

<p><video src="/video/Solitaire.mp4" controls width=800></p>

<p>So what next?  Well, anything that&rsquo;s web related can be now hosted in this simple component.  Experimenting further, I just built a new Microsoft Teams client ;)</p>

<p><img src="/img/WebWindow MS Teams.png"></p>

<p>So, if you&rsquo;re a dab hand a C++ and want to help Steve advance this project, reach out to him at his repo: <a href="https://github.com/SteveSandersonMS/WebWindow" target="_blank">https://github.com/SteveSandersonMS/WebWindow</a></p>

<p>My own fork containing the above samples is here: <a href="https://github.com/daltskin/WebWindow" target="_blank">https://github.com/daltskin/WebWindow</a></p>
]]></content>
        </item>
        
        <item>
            <title>Pulumi Azure Bot Service</title>
            <link>https://jamied.me/posts/2019/11/pulumi-azure-bot-service/</link>
            <pubDate>Sun, 17 Nov 2019 20:08:06 +0000</pubDate>
            
            <guid>https://jamied.me/posts/2019/11/pulumi-azure-bot-service/</guid>
            <description>Pulumi IaaC =&amp;gt; IaaC# (Infrastructure as CSharp) - Deploying Azure bots with Pulumi I&amp;rsquo;ll admit that, until a week ago, I had never heard of Pulumi, but when they recently announced support for .NET - they got my attention. I&amp;rsquo;ve worked alot with JSON based Azure Resource Manager (ARM) templates in the past - but these quickly become complicated to author when you have many different Azure resources.
Whilst Terraform offers it&amp;rsquo;s own HashiCorp Configuration Language (HCL), that or working with YAML makes a bit of me want to die - the syntax seems we&amp;rsquo;ve gone back an era in computing.</description>
            <content type="html"><![CDATA[

<p><img src="/img/pulumi.png"></p>

<h2 id="pulumi-iaac-iaac-infrastructure-as-csharp-deploying-azure-bots-with-pulumi">Pulumi IaaC =&gt; IaaC# (Infrastructure as CSharp) - Deploying Azure bots with Pulumi</h2>

<p>I&rsquo;ll admit that, until a week ago, I had never heard of <a href="pulimi.com" target="_blank">Pulumi</a>, but when they recently announced <a href="https://www.pulumi.com/blog/dotnet-preview/" target="_blank">support for .NET</a> - they got my attention.  I&rsquo;ve worked alot with JSON based <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authoring-templates" target="_blank">Azure Resource Manager</a> (ARM) templates in the past - but these quickly become complicated to author when you have many different Azure resources.</p>

<p>Whilst Terraform offers it&rsquo;s own <a href="https://github.com/hashicorp/hcl" target="_blank">HashiCorp Configuration Language</a> (HCL), that or working with YAML makes a bit of me want to die - the syntax seems we&rsquo;ve gone back an era in computing.  So, after Pulumi&rsquo;s C# announcement I wanted to take a further look and see what the noise was all about.  What better way to kick the tyres than to deploy a brand new Azure Bot Service instance directly into Azure.</p>

<p>You can read about the <a href="https://www.pulumi.com/docs/intro/concepts/" target="_blank">Pulumi architecture and high level concepts</a>, to understand some of the basics and terminology.  Under the covers Pulumi uses the Azure GO SDK which calls the Azure Management API.  Once you&rsquo;ve configured your IaaC, you can then integrate it into <a href="https://www.pulumi.com/docs/guides/continuous-delivery/azure-devops/" target="_blank">Azure DevOps Pipelines</a> or <a href="https://www.pulumi.com/docs/guides/continuous-delivery/github-actions/" target="_blank">GitHub Actions</a>.</p>

<h3 id="deploying-azure-bot-service-with-pulumi-c-sdk">Deploying Azure Bot Service with Pulumi C# SDK</h3>

<p>Essentially to deploy a Web App Bot within Azure Bot Services (ABS) requires several things:</p>

<table>
<thead>
<tr>
<th>Azure resource</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>

<tbody>
<tr>
<td>Resource Group</td>
<td>Container for the Azure resources</td>
<td></td>
</tr>

<tr>
<td>AAD Application ID and secret</td>
<td>AAD App registration and Authentication for the bot</td>
<td></td>
</tr>

<tr>
<td>App Service Plan</td>
<td>Defined set of compute resources for web app</td>
<td></td>
</tr>

<tr>
<td>AppService</td>
<td>Web API of the bot application</td>
<td></td>
</tr>

<tr>
<td>Bot Service</td>
<td>ABS bot registration</td>
<td></td>
</tr>

<tr>
<td>Application Insights</td>
<td>Telemetry/logging for bot application</td>
<td>*</td>
</tr>

<tr>
<td>Cognitive Services</td>
<td>Universal key for LUIS/QnA Maker etc</td>
<td>*</td>
</tr>
</tbody>
</table>

<h3 id="declaring-this-in-pulumi-csharp">Declaring this in Pulumi CSharp</h3>

<p>Let&rsquo;s take a look at the individual code segments that can be used to provision the above Azure services.  A link to a complete sample is provided at the bottom of this post:</p>

<h4 id="azure-resource-group">Azure Resource Group</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> resourceGroup = <span style="color:#66d9ef">new</span> ResourceGroup(<span style="color:#e6db74">&#34;botservice-rg&#34;</span>);
</code></pre></div>
<h4 id="azure-ad-application-registration">Azure AD Application Registration</h4>

<p>This requires the additional <a href="https://www.nuget.org/packages/Pulumi.AzureAD/" target="_blank">Pulumi.Azuread</a> provider nuget package (this took me a while to figure out).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> msa = <span style="color:#66d9ef">new</span> Application(<span style="color:#e6db74">&#34;msapp&#34;</span>, <span style="color:#66d9ef">new</span> ApplicationArgs
{
    Oauth2AllowImplicitFlow = <span style="color:#66d9ef">false</span>,
    AvailableToOtherTenants = <span style="color:#66d9ef">true</span>,
    PublicClient = <span style="color:#66d9ef">true</span>
});
</code></pre></div>
<h4 id="azure-ad-application-secret">Azure AD Application Secret</h4>

<p>Here we can use the additional <a href="https://www.nuget.org/packages/Pulumi.Random" target="_blank">Pulumi.Random</a> provider nuget package to generate a strong password for the secret value and use that for the application password.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> pwd = <span style="color:#66d9ef">new</span> Random.RandomPassword(<span style="color:#e6db74">&#34;password&#34;</span>, <span style="color:#66d9ef">new</span> Random.RandomPasswordArgs
{
    Length = <span style="color:#ae81ff">16</span>,
    MinNumeric = <span style="color:#ae81ff">1</span>,
    MinSpecial = <span style="color:#ae81ff">1</span>,
    MinUpper = <span style="color:#ae81ff">1</span>,
    MinLower = <span style="color:#ae81ff">1</span>
});

<span style="color:#66d9ef">var</span> msaSecret = <span style="color:#66d9ef">new</span> ApplicationPassword(<span style="color:#e6db74">&#34;msasecret&#34;</span>, <span style="color:#66d9ef">new</span> ApplicationPasswordArgs
{
    ApplicationObjectId = msa.ObjectId,
    EndDateRelative = <span style="color:#e6db74">&#34;8640h&#34;</span>, <span style="color:#75715e">// set whatever expiry you want
</span><span style="color:#75715e"></span>    Value = pwd.Result
});
</code></pre></div>
<h4 id="azure-app-service-plan">Azure App Service Plan</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> appServicePlan = <span style="color:#66d9ef">new</span> Plan(<span style="color:#e6db74">&#34;asp&#34;</span>, <span style="color:#66d9ef">new</span> PlanArgs
{
    ResourceGroupName = resourceGroup.Name,
    Kind = <span style="color:#e6db74">&#34;App&#34;</span>,
    Sku = <span style="color:#66d9ef">new</span> PlanSkuArgs
    {
        Tier = <span style="color:#e6db74">&#34;Basic&#34;</span>,
        Size = <span style="color:#e6db74">&#34;B1&#34;</span>
    },
});
</code></pre></div>
<h4 id="azure-application-insights">Azure Application Insights</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> appInsights = <span style="color:#66d9ef">new</span> AppInsights.Insights(<span style="color:#e6db74">&#34;ai&#34;</span>, <span style="color:#66d9ef">new</span> AppInsights.InsightsArgs
{
    ApplicationType = <span style="color:#e6db74">&#34;web&#34;</span>,
    ResourceGroupName = resourceGroup.Name
});
</code></pre></div>
<h4 id="azure-application-insights-api-key">Azure Application Insights API Key</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> appInsightApiKey = <span style="color:#66d9ef">new</span> AppInsights.ApiKey(<span style="color:#e6db74">&#34;ai&#34;</span>, <span style="color:#66d9ef">new</span> AppInsights.ApiKeyArgs
{
    ApplicationInsightsId = appInsights.Id,
    ReadPermissions = <span style="color:#e6db74">&#34;api&#34;</span>,
});
</code></pre></div>
<h4 id="azure-cognitive-service-key">Azure Cognitive Service Key</h4>

<p>Universal key for any Azure Cognitive Services used by your bot.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> luis = <span style="color:#66d9ef">new</span> Cognitive.Account(<span style="color:#e6db74">&#34;cs&#34;</span>, <span style="color:#66d9ef">new</span> Cognitive.AccountArgs
{
    Kind = <span style="color:#e6db74">&#34;CognitiveServices&#34;</span>, <span style="color:#75715e">// includes LUIS
</span><span style="color:#75715e"></span>    ResourceGroupName = resourceGroup.Name,
    Sku = <span style="color:#66d9ef">new</span> Cognitive.Inputs.AccountSkuArgs() { Name = <span style="color:#e6db74">&#34;S0&#34;</span>, Tier = <span style="color:#e6db74">&#34;Standard&#34;</span> }
});
</code></pre></div>
<h4 id="azure-app-service">Azure App Service</h4>

<p>The web (API) application uses the Azure AD details and any Cognitive Service keys declared earlier.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> app = <span style="color:#66d9ef">new</span> AppService(<span style="color:#e6db74">&#34;app&#34;</span>, <span style="color:#66d9ef">new</span> AppServiceArgs
{
    ResourceGroupName = resourceGroup.Name,
    AppServicePlanId = appServicePlan.Id,
    AppSettings =
    {
        { <span style="color:#e6db74">&#34;WEBSITE_RUN_FROM_PACKAGE&#34;</span>, codeBlobUrl },
        { <span style="color:#e6db74">&#34;MicrosoftAppId&#34;</span>, msa.ApplicationId },
        { <span style="color:#e6db74">&#34;MicrosoftAppPassword&#34;</span>, msaSecret.Value },
        { <span style="color:#e6db74">&#34;LuisApiKey&#34;</span>, luis.PrimaryAccessKey },
    },
    HttpsOnly = <span style="color:#66d9ef">true</span>
});
</code></pre></div>
<h4 id="azure-bot-service">Azure Bot Service</h4>

<p>Then finally the Azure Bot Service pieces it all together.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> bot = <span style="color:#66d9ef">new</span> Bot.WebApp(botName, <span style="color:#66d9ef">new</span> Bot.WebAppArgs
{
    DisplayName = botName,
    MicrosoftAppId = msa.ApplicationId,
    ResourceGroupName = resourceGroup.Name,
    Sku = <span style="color:#e6db74">&#34;F0&#34;</span>,
    Location = <span style="color:#e6db74">&#34;global&#34;</span>,
    Endpoint = Output.Format(<span style="color:#e6db74">$&#34;https://{app.DefaultSiteHostname}/api/messages&#34;</span>),
    DeveloperAppInsightsApiKey = appInsightApiKey.Key,
    DeveloperAppInsightsApplicationId = appInsights.AppId,
    DeveloperAppInsightsKey = appInsights.InstrumentationKey
});
</code></pre></div>
<h4 id="then-we-can-output-the-results">Then we can output the results</h4>

<p>Take the below outputs and put them straight into the Bot Framework Emulator and you&rsquo;ll be able to test the newly deployed bot.  Alternatively, use the Azure Portal Azure Bot Service - Test in Webchat feature.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Dictionary&lt;<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">object</span>&gt;
{
    { <span style="color:#e6db74">&#34;Bot Endpoint&#34;</span>, bot.Endpoint },
    { <span style="color:#e6db74">&#34;MicrosoftAppId&#34;</span>, msa.ApplicationId },
    { <span style="color:#e6db74">&#34;MicrosoftAppPassword&#34;</span>, msaSecret.Value }
};
</code></pre></div>
<p><img src="/img/pulumibutton.svg"></p>

<h3 id="execute-the-pulumi-cli">Execute the Pulumi CLI</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pulumi stack init dev
$ az login
$ pulumi config set azure:location <span style="color:#e6db74">&#34;North Europe&#34;</span>
$ pulumi config set botName PulumiBot1
$ pulumi up</code></pre></div>
<h3 id="full-source-code-sample">Full source code sample</h3>

<p><del>At the time of writing I&rsquo;ve submitted a PR for a full sample here: <a href="https://github.com/pulumi/examples/pull/464" target="_blank">https://github.com/pulumi/examples/pull/464</a></del></p>

<p>Full sample published here: <a href="https://github.com/pulumi/examples/tree/master/azure-cs-botservice" target="_blank">https://github.com/pulumi/examples/tree/master/azure-cs-botservice</a></p>
]]></content>
        </item>
        
        <item>
            <title>Direct Line Speech</title>
            <link>https://jamied.me/posts/2019/10/direct-line-speech/</link>
            <pubDate>Thu, 31 Oct 2019 00:00:00 +0000</pubDate>
            
            <guid>https://jamied.me/posts/2019/10/direct-line-speech/</guid>
            <description>Anne Uumellmahaye voice bot using Azure Bot Service: Direct Line Speech Recreating Anne Uumellmahaye using AI from the film The Man with Two Brains. Spooktacular fun with the Azure Bot Service using the Direct Line Speech channel and the Microsoft Cognitive Speech SDK.
Architecture Technologies used  Azure Bot Service and Direct Line Channel Bot Framework Microsoft Cognitive Services  Dispatcher LUIS QnA Maker Speech SDK  Azure Functions Spotify API UWP Raspberry Pi running Windows 10 IoT Halloween head  Who&amp;rsquo;s Freddy?</description>
            <content type="html"><![CDATA[

<h2 id="anne-uumellmahaye-voice-bot-using-azure-bot-service-direct-line-speech">Anne Uumellmahaye voice bot using Azure Bot Service: Direct Line Speech</h2>

<p>Recreating Anne Uumellmahaye using AI from the film The Man with Two Brains.  Spooktacular fun with the Azure Bot Service using the Direct Line Speech channel and the Microsoft Cognitive Speech SDK.</p>

<p><video src="/img/2brains.mp4" controls></p>

<h2 id="architecture">Architecture</h2>

<p><img src="/img/2brains_architecture.jpg"></p>

<h2 id="technologies-used">Technologies used</h2>

<ul>
<li>Azure Bot Service and Direct Line Channel</li>
<li>Bot Framework</li>
<li>Microsoft Cognitive Services

<ul>
<li>Dispatcher</li>
<li>LUIS</li>
<li>QnA Maker</li>
<li>Speech SDK</li>
</ul></li>
<li>Azure Functions</li>
<li>Spotify API</li>
<li>UWP</li>
<li>Raspberry Pi running Windows 10 IoT</li>
<li>Halloween head</li>
</ul>

<h2 id="who-s-freddy">Who&rsquo;s Freddy?</h2>

<p>See <a href="https://blogs.msdn.microsoft.com/jamiedalton/2016/11/03/building-a-physical-bot-using-the-botframework-freddythefishbot-futuredecoded-2016/" target="_blank">Freddy the fish</a></p>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/bot-service/bot-service-channel-connect-directlinespeech?view=azure-bot-service-4.0" target="_blank">https://docs.microsoft.com/en-us/azure/bot-service/bot-service-channel-connect-directlinespeech?view=azure-bot-service-4.0</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-sdk" target="_blank">https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-sdk</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-synthesis-markup" target="_blank">https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-synthesis-markup</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/language-support#text-to-speech" target="_blank">https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/language-support#text-to-speech</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/bot-service/?view=azure-bot-service-4.0" target="_blank">https://docs.microsoft.com/en-us/azure/bot-service/?view=azure-bot-service-4.0</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/bot-service/bot-builder-tutorial-dispatch?view=azure-bot-service-4.0&amp;tabs=cs" target="_blank">https://docs.microsoft.com/en-us/azure/bot-service/bot-builder-tutorial-dispatch?view=azure-bot-service-4.0&amp;tabs=cs</a></li>
<li><a href="https://developer.spotify.com/" target="_blank">https://developer.spotify.com/</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Home Automation</title>
            <link>https://jamied.me/posts/2019/05/home-automation/</link>
            <pubDate>Thu, 09 May 2019 19:49:05 +0100</pubDate>
            
            <guid>https://jamied.me/posts/2019/05/home-automation/</guid>
            <description>I&amp;rsquo;ve been experimenting/playing with home automation for a while now, specifically SmartThings and their development environment. At first I was overwhelmed by it all as it seemed a steep learning curve, getting to grips with the Groovy IDE and terminology such as device handlers and SmartApps - but now it&amp;rsquo;s a labour of love.
First things first though, home automation is largely pointless, it&amp;rsquo;s un-necessary and will likely cause you more problems that it&amp;rsquo;s worth in the short term.</description>
            <content type="html"><![CDATA[<p>I&rsquo;ve been experimenting/playing with home automation for a while now, specifically SmartThings and their development environment.  At first I was overwhelmed by it all as it seemed a steep learning curve, getting to grips with the Groovy IDE and terminology such as device handlers and SmartApps - but now it&rsquo;s a labour of love.</p>

<p>First things first though, home automation is largely pointless, it&rsquo;s un-necessary and will likely cause you more problems that it&rsquo;s worth in the short term.  However, from a developer and technology perspective - it&rsquo;s AWESOME.  You can spend literally hours configuring devices to trigger events and turn things on/off, dim or change colour of lights etc.  All at the expense of anyone else you live with, who will most likey hate it and just say &ldquo;really?&rdquo; when you&rsquo;ve finally got the postbox to make the lamp flash on/off.</p>

<p>The first smart device on the SmartThings ecosystem I acquired was a Samsung Smart Fridge.  As well as a speaker, this also has builtin sensors that report it&rsquo;s running temperature, how much energy it&rsquo;s using and whether either of the fridge/freezer doors are open/closed.  It also came with an ice dispenser, so my first challenge was to see if the sensors reported if it was dispensing ice or not (it doesn&rsquo;t).  This is where you head over to the SmartThings Live Logging feature to watch all the activity within your home automation graph.  So the fall-back plan was to play &ldquo;Ice Ice Baby&rdquo; by Vanilla Ice whenever the freezer door was opened.</p>

<p>I&rsquo;m an avid Spotify user and subscribe to the Premium service, this give me access to Spotify Connect - allowing me to target individual playback devices.  Crucially, Spotify has an API that allows you to control what music track gets played and on what device as well as controlling things such as the volume.  So the next challenge was how to invoke the Spotify API from SmartThings.  I initially thought about invoking it directly from a custom SmartApp, however this would have involved a fair amount of code in Groovy and I didn&rsquo;t want to write sluggish code that was going to grind other SmartApps down or timeout.  Instead I went with a server-side approach, creating a lighter weight SmartApp that invokes an Azure Function which does the grunt work - automating Spotify via the API.  To make life even easier, I discovered a nuget package by Jonas Dellinger that wraps the Spotify API into a simple SDK.</p>

<p>I&rsquo;ve had some fun (and tears) with this project, but it&rsquo;s amazing what automation scenarios you can achieve.  For instance - I now have a &ldquo;Game&rdquo; mode for the entire house.  Using a little device from the team at <a href="https://konnected.io" target="_blank">https://konnected.io</a> I&rsquo;ve been able to convert the existing alarm sensors around the house into SmartThings sensors.  So, not only can I trigger different music from different sensors, I can choose where the music gets played, what lights to flash and so on ;)</p>

<p>The full source code is available here: <a href="https://github.com/daltskin/ST-HomeAutomation" target="_blank">https://github.com/daltskin/ST-HomeAutomation</a></p>
]]></content>
        </item>
        
        <item>
            <title>New Home</title>
            <link>https://jamied.me/posts/2019/04/new-home/</link>
            <pubDate>Tue, 16 Apr 2019 16:44:23 +0100</pubDate>
            
            <guid>https://jamied.me/posts/2019/04/new-home/</guid>
            <description>Yes, I&amp;rsquo;ve moved my online home from https://blogs.msdn.microsoft.com/jamiedalton to here. Moving my site to Hugo using a static content builder will hopefully mean that I can blog more often, and now that I&amp;rsquo;m outside the blogs.msdn.microsoft.com domain I can write and share other technical articles or things that I&amp;rsquo;ve been working with.
So speaking of which, leads me to my upcoming next post about Home Automation&amp;hellip;</description>
            <content type="html"><![CDATA[<p>Yes, I&rsquo;ve moved my online home from <a href="https://blogs.msdn.microsoft.com/jamiedalton" target="_blank">https://blogs.msdn.microsoft.com/jamiedalton</a> to here.  Moving my site to Hugo using a static content builder will hopefully mean that I can blog more often, and now that I&rsquo;m outside the blogs.msdn.microsoft.com domain I can write and share other technical articles or things that I&rsquo;ve been working with.</p>

<p>So speaking of which, leads me to my upcoming next post about Home Automation&hellip;</p>
]]></content>
        </item>
        
    </channel>
</rss>
